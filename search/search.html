<!--

/**
* search.html, the main Heursit search page, effectively the home page for Heurist
* @copyright (C) 2005-2010 University of Sydney Digital Innovation Unit.
* @link: http://HeuristScholar.org
* @license http://www.gnu.org/licenses/gpl-3.0.txt
* @package Heurist academic knowledge management system
* @todo
**/

-->
<html>

<head>
<title>Heurist Reference Database - &copy; 2005-2010 The University of Sydney</title>
<link rel="stylesheet" media="screen and (max-device-width: 800px)" href="../common/css/smallscreen.css"/>
<link rel=icon href="../favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
<link id=httprsslink rel=alternate type="application/rss+xml" title="HTTP RSS feed" href="../export/feeds/searchRSS.php?q=tag:Favourite+OR+tag:Favorite">
<link rel="stylesheet" type="text/css" href="../external/yui/2.8.2r1/build/menu/assets/skins/sam/menu.css">
<script type="text/javascript" src="../external/yui/2.8.2r1/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/json/json-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/container/container_core-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/menu/menu-min.js"></script>
<script src="../external/jquery/jquery-1.6.min.js"></script>
<link rel="stylesheet" type="text/css" href="../external/yui/2.8.2r1/build/fonts/fonts-min.css" />
<link rel="stylesheet" type="text/css" href="../external/yui/2.8.2r1/build/tabview/assets/skins/sam/tabview.css" />
<link rel="stylesheet" type="text/css" href="../external/yui/2.8.2r1/build/calendar/assets/skins/sam/calendar.css" />
<script type="text/javascript" src="../external/yui/2.8.2r1/build/element/element-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/tabview/tabview-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/calendar/calendar-min.js"></script>
<!-- Combo-handled YUI CSS files: -->
<link rel="stylesheet" type="text/css" href="../external/yui/2.8.2r1/build/reset-fonts-grids/reset-fonts-grids.css">
<link rel="stylesheet" type="text/css" href="../external/yui/2.8.2r1/build/resize/assets/skins/sam/resize.css">
<link rel="stylesheet" type="text/css" href="../external/yui/2.8.2r1/build/layout/assets/skins/sam/layout.css">
<!-- Combo-handled YUI JS files: -->
<script type="text/javascript" src="../external/yui/2.8.2r1/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/animation/animation-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/dragdrop/dragdrop-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/element/element-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/resize/resize-min.js"></script>
<script type="text/javascript" src="../external/yui/2.8.2r1/build/layout/layout-min.js"></script>
<link rel=stylesheet href="../common/css/global.css" media="all">
<link rel=stylesheet href="../common/css/search.css" media="all">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
/* Hack for IE7 betas -- :hover etc in external CSS not respected without these rules */
			a:hover {
			}
			a:active {
			}
			a:focus {
			}
			a:hover {
			}
			a:active {
			}
			a:focus {
			}
		</style>
	</head>

	<body>
		<iframe id=searchFrame frameborder=0 style="width:0;height:0;position:absolute;"></iframe>
		<script src="../common/js/browserDetect.js"></script>
		<script src="../common/php/loadHAPI.php"></script>
		<script src="../common/js/utilsLoad.js"></script> <!-- core HEURIST functions -->
		<script src="../common/php/getMagicNumbers.php"></script>
		<script src="../records/edit/editRecord.js"></script>
		<script>
			var hBase = (top.HEURIST && top.HEURIST.basePath ? "http://" + window.location.host +  top.HEURIST.basePath :
			( HeuristBaseURL ? HeuristBaseURL : ""));
			var database = location.search.match(/db=([^&]+)/) ? location.search.match(/db=([^&]+)/)[1]:"";
			var bugReportURL = '../export/email/formEmailRecordPopup.html?rectype=bugreport&db='+database;
			    // was hBase, but ../ seems to work jsut as well

			if (location.search.match(/[&?]q=[^&]+/)) {		//there is a search string
				document.getElementById("searchFrame").src =  hBase +"search/getResultsPageAsync.php" + location.search;
				top.suppressAutoSearch = true;
			} else {
				//	this is a substitute for loading the user's default saved search - it's more intuitive
				//	and simplifies management of saved searches
				top.HEURIST.whenLoaded("obj-user", function() {	//FIXME: need to get instance info and set it to heurist params
					if (top.HEURIST.is_logged_in()  ) {	//FIXME: this doesn't work for installed verisons
						document.body.className = "w-bookmark";
						window.HEURIST.parameters["w"] = "bookmark";
						window.HEURIST.parameters["q"] = "tag:" + top.HEURIST.util.getDisplayPreference("favourites");
						window.HEURIST.parameters["db"] = database;
					}
				});
			}

			if (! document.body.className) {
				document.body.className = location.search.match(/w=bookmark/) ? "w-bookmark" : "w-all";
			}
			// start loading this early
			top.HEURIST.loadScript(hBase+"common/php/loadUserInfo.php" +	// user-specific HEURIST data
			(database ? "?db=" + database : ""));

			top.HEURIST.whenLoaded(["search-html", "obj-common"], top.HEURIST.util.setDBName);
			top.HEURIST.whenLoaded(["search-html", "obj-common"], top.HEURIST.util.setDocumentTitle);

			top.HEURIST.whenLoaded(["search-html", "obj-common", "search-js"], function() {
				var action_fr = document.getElementById("i_action");
				action_fr.src = top.HEURIST.basePath+ "search/actions/actionHandler.php" +
				(top.HEURIST.database && top.HEURIST.database.name ? "?db=" + top.HEURIST.database.name : "");

				top.HEURIST.search.createUsedRectypeSelector(false);
				top.HEURIST.search.createUsedDetailTypeSelector(true);
				// if there are results waiting, render them
				var searchFrame = document.getElementById("searchFrame");
				if (searchFrame && searchFrame.contentWindow && searchFrame.contentWindow.results) {
					var results = searchFrame.contentWindow.results;
					if (! results.notified) {
						top.HEURIST.search.searchNotify(results);
						top.HEURIST.search.searchResultsNotify(results, 0);
					}
				}
			});
			top.HEURIST.whenLoaded(["search-html", "obj-common", "obj-user", "search-js"], function() {
				// register handlers and render non-static elements of page
				top.HEURIST.search.setupSearchPage();
			});

			function _bugReportCallback(title, bd, bibID) {
				if (bibID) {
					window.close(bibID, title);
				} else {
					//document.forms[0].submit();
				}
			}
		</script>
		<script src="../common/php/displayPreferences.php"></script> <!-- sets body css classes based on prefs in session -->
		<iframe src="../search/actions/actionHandler.php" id=i_action></iframe>
		<!-- actionHandler.php is written to return a form by default or running javascript followed by reload teh default-->


<div id="masthead">
			<a id=home-link><div id=logo title="Click the database logo at top left of any Heurist page to return to your Favourites"></div></a>

			<div id=version></div>
			<!-- database name -->
			<a id=dbSearch-link><div id=dbname ></div></a>
			<!-- message of the day -->
			<div id="message"> Heurist 3 : Open Source <a href="../help/webhelp/index.html?ACL" target="_blank" title="Click for full information. Design: Ireneusz Golka, Ian Johnson &amp; Ingrid Mason. Programming: Steve White, Kim Jackson, Tom Murtagh &amp; Maria Shvedova. University of Sydney Digital Innovation Unit."><br>
			<font style="font-size:11px;">Credits</font></a> </div>
			<!-- quicklinks -->
			<div id="quicklinks">
				<div id=logged-in></div>
				<ul id=quicklink-cell>
					<li class="admin-only" id="reportBug"><a href="#" onClick="top.HEURIST.util.popupURL(top, bugReportURL,{'close-on-blur': false,'no-resize': false, height: 450,width: 740,callback: _bugReportCallback});return false;" title="Click to send a bug report" ><img src="../common/images/16x16.gif"></a></li>
					<li class="logged-in-only"> <span id=my-heurist-menu-link class=logged-in-only><b>My Profile</b></span>
						<ul id="my-heurist-menu">
							<li><a href="../admin/profile/editPreferences.html" class="small" name="auto-popup"
								title="Display preferences">Preferences</a></li>

							<li><a href="../admin/profile/importModelUserProfile.php" name="auto-popup"
								title="Add useful resources to your collection from a range of academic templates">Load profiles</a></li>

							<li><a href="../admin/profile/configureProfile.php?body_only&amp;tag_edit=1" class="portrait" name="auto-popup"
								title="Delete, combine, rename your personal tags">Manage tags</a></li>

							<li><a href="../admin/ugrps/showSimilarUsers.php" name="auto-popup"
								title="Find people with similar bookmarking patterns">Find similar users</a></li>

							<li><a href="../admin/ugrps/manageGroups.html" name="auto-popup"
								title="Find people with similar bookmarking patterns">My User Groups</a></li>

							<li><a href="../admin/profile/manageReminders.php" name="auto-popup"
								title="View and delete automatic notification emails sent from your bookmarks">Manage reminders</a></li>

							<li><a href="#" onClick="top.HEURIST.util.popupURL(top, bugReportURL,{'close-on-blur': false,'no-resize': false, height: 320,width: 740,callback: _bugReportCallback});return false;"
								title="Click to send a bug report">Report bug</a></li>
						</ul>
					</li>

					<li class="logged-in-only"><a href="../admin/structure/editStructure.php" onClick="this.href = '../admin/adminMenu.php?db=' + database;" title="Administer database structure"><b>DB Admin</b></a></li>

					<li class="logged-in-only"> <span id=advanced-menu-link class="logged-in-only"><b>Advanced</b></span>
						<ul id="advanced-menu">
							<li><a href="../admin/structure/getListOfDatabases.php" name="auto-popup" class="portrait" title="For administrators only">List databases</a></li>
							<li><a href="javascript:void(0)" onClick="{top.HEURIST.util.reloadStrcuture();}"
							title="Click to clear the internal working memory of Heurist" >Clear memory</a></li>

							<li><a href="../import/email/emailProcessingSetup.php" name="auto-popup" class='seperator small'
							title="Harvest email from a designated IMAP email server (set in configuration)">Harvest email</a></li>

							<li class="admin-only"><a href="../import/fieldhelper/synchroniseWithFieldHelper.php"
								onClick="this.href = top.HEURIST.baseURL +'import/fieldhelper/synchroniseWithFieldHelper.php?db=' + database;" target="_blank"
								title="Read in FieldHelper XML manifests and create metadata records from them linked back to the indexed files"
								name="auto-popup">FieldHelper import</a></li>

							<li><a href="../import/hyperlinks/importHyperlinks.php" name="auto-popup"
								title="Import web links from a browser bookmarks file or an html web page file">Import hyperlinks</a></li>

							<li><a href="../admin/profile/configImportSettings.php" name="auto-popup" class="small"
								title="Settings for web links importer">Importer settings</a></li>

							<li><a href="../import/importerFramework.php?format=BIB" name="auto-popup"  class="seperator"
							title="Import bibliographic exchange format files">Import bibliographic</a></li>

							<li><a href="../import/importerFramework.php?format=GEO" name="auto-popup" title="Import KML files">Import geographic</a></li>

							<li><a href="../import/delimited/importRecordsFromDelimited.html" name="auto-popup"
							onClick="this.href = top.HEURIST.baseURL +'import/delimited/importRecordsFromDelimited.html?db=' + database;"
							title="Import a delimited text file of data for one record type" target="_blank">Import delimited</a></li>

							<li class="admin-only"><a href="../import/delimited/updateDetailsFromDelimited.html"
								onClick="this.href = top.HEURIST.baseURL +'import/delimited/updateDetailsFromDelimited.html?db=' + database;" target="_blank"
								title="Update record details using delimited text" name="auto-popup">Update fields from CSV</a></li>

							<!-- separator-->
							<li><a href="?ver=1&amp;w=bookmark&amp;q=-tag&amp;label=Bookmarks+without+tags" class='seperator'
								title="Find bookmarks which you have not tagged">Bookmarks w/o tags</a></li>
							<!-- separator-->

							<li class="admin-only"><a href="../admin/setup/straightCopyDatabase.php"
								onClick="this.href = top.HEURIST.baseURL +'admin/setup/straightCopyDatabase.php?db=' + database;" target="_blank"
								title="Copy current database to an identical copy with a new name" class="seperator">Verbatim db copy</a></li>

							<!--<li class="admin-only"><a href="#" target="_blank" onClick="this.href = top.HEURIST.baseURL +'export/delimited/exportDelimitedForRectype.html?db=' + database;" title="Export records as delimited text">Export delimited</a></li>-->
							<li class="admin-only"><a href="#"
								onClick="top.HEURIST.search.popupLink(top.HEURIST.baseURL +'export/delimited/exportDelimitedForRectype.html?db=' + database);"
								title="Export records as delimited text">Export delim (filtered)</a></li>

			  				<li><a href="#" id=result-style-icons-link title="Generate HML for current set of search results"
			  					onClick="top.HEURIST.search.exportHML(true);" >Export HML (resultset)</a></li>

			  				<li><a href="#" id=result-style-icons-link title="Generate HML for selected set of search results"
			  					onClick="top.HEURIST.search.exportHML(false);">Export HML (selected)</a></li>

						  	<li><a href="#" id=result-style-icons-link title="Generate KML for selected set of search results"
						  		onClick="top.HEURIST.search.exportKML(false);">Export KML (selected)</a></li>

							<!-- separator-->
						</ul>
					</li>

					<li> <a href="../help/webhelp" target=_blank title="Online help for Heurist"><b>Help</b></a> </li>
					<li> <a href="../index.html" target=_blank title="The Heurist project plus comprehensive detailed help"><b>Project</b></a> </li>
					<li> <a id=contact-link style="display:none" title="Send us an email with bug information or feature requests" href="mailto:info@heuristscholar.org"><b>Contact us</b></a>

						<script>
							var bookmarkletname = top.HEURIST.VERSION;
							var html = "<a id=\"bookmarklet-link\" onclick=\"alert('Heurist Bookmarklet: drag this link to your browser bookmarks toolbar, or right-click the link, choose Bookmark This Link, and add the link to your Bookmarks Toolbar or Favorites.');return false;\" title=\"Heurist Bookmarklet. Drag this link to your browser bookmarks toolbar, or right-click the link,"
							+ " choose Bookmark This Link, and add the link to your Bookmarks Toolbar or Favorites.\""
							+ " href=\"javascript:(function(){h='" + document.location.href.replace(/search\/.*/,"") + "';"
							+ "d=document;c=d.contentType;"
							+ "if(c=='text/html'||!c){"
							+ "if(d.getElementById('__heurist_bookmarklet_div'))return%20Heurist.init();"
							+ "s=d.createElement('script');s.type='text/javascript';"
							+ "s.src=h+'import/bookmarklet/bookmarkletPopup.php?db="+database+"';"
							+ "d.getElementsByTagName('head')[0].appendChild(s);}"
							+ "else{e=encodeURIComponent;w=open(h+'records/add/addRecordPopup.php?db="+database+"&t='+e(d.title)+'&u='+e(location.href));"
							+ "window.setTimeout('w.focus()',200);}"
							+ "})();\"><b>>> "+database+" </b></a>";
							document.write(html);
						</script>
					</li>
				</ul>
			</div>

			<!-- search and menu -->
			<div id=search class="banner searchTable" style="border-bottom:1px solid #696969;">
				<form onSubmit="top.HEURIST.search.checkSearchForm();return false;"><input type=hidden id=w-input name=w>
					<!-- SEARCH:  it's obvious it's a search, one less bit of clutter -->
					<div class="searchInput" style="position:relative"><input id=q name=q type=text style="width:300px; clear:both" onKeyPress="if (event.keyCode == 13) {document.getElementById('w-input').value = 'bookmark'; top.HEURIST.search.submitSearchForm();}">
						<div class="simplesearch" title="Click to show simple search builder panel" onclick='$("#simple-search").toggleClass("collapsed");$(this).toggleClass("collapsed");'></div>

						<div id="simple-search" class="collapsed">
							<div class="simple-search-row">
								<label for="rectype-select">Record type:</label>
								<select id="rectype-select" >
								</select>
							</div>
							<div class="simple-search-row">
								<label for="field-select">Field:</label>
								<select id="field-select" >
								</select>
								<label for="input-contains">contains</label>
								<input type="text" id="input-contains" onKeyPress="setTimeout(top.HEURIST.search.calcShowSimpleSearch,0);"/>
							</div>
							<div class="simple-search-row" style="text-align:center;">
								<a href="#" title="Search only records which have been bookmarked by you" onClick="document.getElementById('w-input').value = 'bookmark'; top.HEURIST.search.submitSearchForm();" class="button">search my bookmarks</a>
								<a href="#" title="Search across all records in Heurist" onClick="document.getElementById('w-input').value = ''; top.HEURIST.search.submitSearchForm();" class="button">search all records</a>
								<a href="#" title="Advanced search function builds complex search strings through an easy form-based interface" onClick="top.HEURIST.search.launchAdvancedSearch(); return false;">Go to <b>Advanced Search</b></a>

							</div>
						</div>

					</div>
					<div class="searchButtons">
						<input id=my-records-button type=button value="my bookmarks" title="Search only records which have been bookmarked by you" onClick="document.getElementById('w-input').value = 'bookmark'; top.HEURIST.search.submitSearchForm();" class="logged-in-only">
						<input id=all-records-button type=button value="all records"  title="Search across all records in Heurist" onClick="document.getElementById('w-input').value = ''; top.HEURIST.search.submitSearchForm();">
						<span id="add-record"><input id=add-record-link value="Add New Record" title="Add a new record to the Heurist database, setting record type and ownership" onClick="top.HEURIST.util.popupURL(window, top.HEURIST.basePath +'records/add/addRecordPopup.php'); return false;" class="logged-in-only" >
					</span></div>
				</form>

				<div id="viewTriggers">
					<div id="navButton" title="Hide Navigation Panel">Hide Navigation</div>
					<div id="tabbar">
						<ul id="tabs" class="horizontal not-query-collected">
							<li><span>Search</span>
								<ul>
									<li><a href="#" title="Advanced search function builds complex search strings through an easy form-based interface" onClick="top.HEURIST.search.launchAdvancedSearch(); return false;">Advanced search</a></li>
									<li><a href="../help/advanced_search.html" title="Detailed description of the syntax for advanced search strings" target=_blank>Advanced search help</a></li>
              						<li><a href="#" title="Save current results set as a Saved Search, either personal or shared with workgroup members" onClick="top.HEURIST.util.popupURL(window, 'saved/saveSearchPopup.html'); return false;">Save search as ...</a></li>

									<!-- Coomenting out the following line breaks the search page, but we don't want it!!! TO REMOVE -->
									<li id=publish-image-placeholder></li>

									<li><a href="#" onClick="top.HEURIST.search.openSelected()" title="Launch selected records in a new search window">Open selection in new window</a></li>
								</ul>
							</li>
							<li><span>Edit</span>
								<ul>
									<li><a href="#" onClick="top.HEURIST.search.selectAll()" title="Select All on page" id="selectRecords">Select all on page</a></li>
									<li><a href="#" onClick="top.HEURIST.search.deselectAll()" title="Clear selection">Select none</a></li>
									<li><a href="#" onClick="top.HEURIST.search.addRelationshipsPopup(); return false;" title="Select one or more records, then click to add relationships" class="seperator">Relate to ...</a></li>
									<li><a href="#" onClick="top.HEURIST.search.addRemoveTagsPopup(true); return false;" title="Select one or more records, then click to add or remove tags" class="seperator">Tag</a></li>
									<li><a href="#" onClick="top.HEURIST.search.setRatingsPopup(); return false;" title="Select one or more records, then click to set ratings" >Rate</a></li>
									<li><a href="#" onClick="top.HEURIST.search.addBookmarks(); return false;" title="Select one or more records, then click to bookmark">Bookmark</a></li>
									<li><a href="#" onClick="top.HEURIST.search.deleteBookmarks(); return false;" title="Select one or more records, then click to remove bookmarks">Un-bookmark</a></li>
									<li><a href="#" onClick="top.HEURIST.search.deleteBiblios(); return false;" title="Select one or more records, then click to delete">Delete</a></li>
									<li><a href="#" onClick="top.HEURIST.search.collectDuplicates(); return false;" title="Click to identify possible duplicates in the current query and create collections for each set"class="seperator">Identify duplicates (within search results)</a></li>
									<li><a href="#" onClick="top.HEURIST.search.fixDuplicates(); return false;" title="Select one or more records, then click to identify/fix duplicates">Merge selected</a></li>
								</ul>
							</li>
							<li><span id=collection-label title="Select records and click collect to add to a temporary collection which can later be saved as a search." >Collect&nbsp;&nbsp;</span><span class="collected-shown" style="display:inline"></span>
								<ul>
									<li><a class=collected-hidden href="#" onClick="top.HEURIST.search.addToCollection();return false;" title="Select one or more records, then click to add to the collection">Add</a></li>
									<li><a class=collected-shown href="#" onClick="top.HEURIST.search.removeFromCollection(); return false;" title="Select one or more records, then click to remove records from the collection">Remove</a></li>
									<li><a class=toolbar-large-icon-link-normal href=" " title="Empty records from the collection" onclick='top.HEURIST.util.getJsonData(top.HEURIST.basePath+"search/saved/manageCollection.php?clear", top.HEURIST.search.addRemoveCollectionCB); document.getElementById("q").focus(); return false;'>Remove all</a></li>
									<li><a class=toolbar-large-icon-link-normal href=" " title="Save current set of records in collection" onClick="top.HEURIST.util.popupURL(window, 'saved/saveCollectionPopup.html',{width:650, height:600}); return false;">Save to...</a></li>
									<li><a class=toolbar-large-icon-link-normal href=" " onClick="top.HEURIST.search.loadSearchLocation('?q=_COLLECTED_&amp;label=Collected');return false;" title="Show current set of records in collection" >Show</a></li>
								</ul>
							</li>
							<li><span>Share</span>
								<ul>
									<li><a href="#" onClick="top.HEURIST.search.setWorkgroupPopup(); return false;" title="Select one or more records, then click to set workgroup ownership and visibility">Set workgroup</a></li>
									<li><a href="#" onClick="top.HEURIST.search.addRemoveKeywordsPopup(); return false;" title="Select one or more records, then click to add or remove workgroup tags">Tag for workgroup</a></li>
									<li><a href="#" onClick="top.HEURIST.search.notificationPopup(); return false;" title="Select one or more records, then click to send notification">Notify (email)</a></li>
								</ul>
							</li>
							<li><span>View</span>
								<ul>
									<li><a href="#" id=result-style-oneCol title="View results as a list" onClick="top.HEURIST.search.setResultStyle('list');">1 column</a></li>
									<li><a href="#" id=result-style-twoCol title="View results as a list" onClick="top.HEURIST.search.setResultStyle('two-col');">2 columns</a></li>
									<li><a href="#" id=result-style-icons-link title="View results as icons" onClick="top.HEURIST.search.setResultStyle('icons');">Icons</a></li>
									<li><a href="#" id=result-style-thumbs-link-new title="View results as icons" onClick="top.HEURIST.search.setResultStyle('thumbnails');">Thumbnails</a></li>
									<li><a href="#" title="Click to hide/show the legend" onClick="top.HEURIST.search.toggleLegend(); blur(); return false;" id="legend-link" class="seperator">Show legend</a></li>

									<!--  todo: required by Steven 1/11/11: set the query and the databsae above
									also, provide this in the Advanced pulldown to render the current selection
									-->
									<li><a href="#" id="resetLayout" title="Resets all panels to default width and visibility" class="seperator">Reset layout</a></li>
								</ul>
							</li>
						</ul>
					</div>




					<div id="appPanelButton" title="Toggle search applications panel">Hide Applications</div>


				</div>

			</div>

</div>
<!-- sidebar -->
<div id="loadingCover" class="On" ></div>
<div id="mainbody">
<div id="sidebar">

			<div id=left-panel-content class="panel-main-content">
				<div id=saved>
					<div id=my-records-saved-searches class=hide>
						<div class=search-type title="Personal Saved searches which search only the records you have bookmarked (your collection)" onClick="top.HEURIST.search.toggleSavedSearches(this.parentNode);">My bookmarks</div>
						<div class=content>
							<div class=saved-search-subsubheading><a href="?ver=1&amp;w=bookmark&amp;label=Favourites&amp;q=tag:" onClick="top.HEURIST.search.loadFavourites(this.href);return false;">My Favourites</a></div>
							<div class=saved-search-subsubheading><a href='?ver=1&amp;w=bookmark&amp;q=sortby:-m%20after:"1 week ago"&amp;label=Recently+modified' onClick="top.HEURIST.search.loadSearchLocation(this.href);return false;">Recent changes</a></div>
							<div class=saved-search-subsubheading><a id=search-by-tag-link href="#" onClick="top.HEURIST.search.showTagSearchLinks(); return false;">My Tags</a></div>
							<div class=saved-search-subsubheading><a id=my-blog-link target="_blank" href="#">My Blog</a></div>
							<div class=saved-search-subsubheading>Saved searches</div>
							<div id=my-records-saved-searches-searches></div>
						</div>
					</div>
					<div id=all-records-saved-searches class=hide>
						<div class=search-type title="Personal Saved searches which search across all records in Heurist" onClick="top.HEURIST.search.toggleSavedSearches(this.parentNode);">All records</div>
						<div class=content>
							<div class=saved-search-subsubheading><a href='?ver=1&amp;w=all&amp;q=sortby:-m%20after:"1 week ago"&amp;label=Recently+modified' onClick="top.HEURIST.search.loadSearchLocation(this.href);return false;">Recent changes</a></div>
							<div class=saved-search-subsubheading>Saved searches</div>
							<div id=all-records-saved-searches-searches></div>
						</div>
					</div>
					<div id=workgroup-saved-searches class=hide>
						<div class=search-type title="Saved searches which are shared with the members of the workgroups to which you belong" onClick="top.HEURIST.search.toggleSavedSearches(this.parentNode);">Workgroups</div>
						<div class=content>
							<div id=workgroup-saved-searches-searches></div>
						</div>
					</div>
					<div id=curated-collections>
						<div><a href="?ver=1&w=all&q=tag:%22Heurist+System\Featured+Subsets%22&label=Featured+subsets&description=The+links+below+retrieve+curated+subsets+of+Heurist+records+of+general+interest+assembled+by+special+bibliographic+and+data+collection+projects.+If+you+would+like+to+add+a+collection+here,+email+admin@heuristscholar.org+for+instructions">Example collections</a></div>
						<div id=collection-info></div>
					</div>
				</div>
				<div id=tag-search-links></div>
			</div>

</div>
<!-- centre panel positional-->
<!--<div id="center-panel"></div>
-->
<!-- page -->
<div id="page" style="position:absolute;left:0;right:0;top:0;bottom:0; background-color:#FFF">
			<div id="result-container">
				<div id="result-header">
				</div>
				<div id="results">
					<div id=pageNavCount>
						<div id=page-nav></div>
						<div id=resource-count></div>
					</div>
					<div id="active-label"></div>
					<div id="search-description"></div>
					<div id="results-message"></div>
					<div id="search-status" class="loading">
						<div id="loading-search-status">
							<div><a href="#" onClick="document.getElementById('search-not-loading-message').style.display = ''; this.style.display = 'none'; return false;">Search not loading?</a></div>
							<div id="search-not-loading-message" style="display: none; color: green;">Clear the cache by shift-reloading the page. If this fails, try Tools &gt; Clear browsing data/recent history &gt; clear cache</div>
							<p>Loading ...</p>
						</div>
						<div id="noquery-search-status"> <br>
							<h2>Welcome to Heurist</h2>
							<br>
							<p>Heurist is a sophisticated eResearch tool for managing web bookmarks, references, notes, and a wide range of research data. Designed for individual or collaborative use, it may at first appear puzzling - why, for database, is the home page just a search - but it will all become clear if you persist a bit.</p>
							<br>
							<p>We strongly recommend that you click <a target="_blank" href="../help/tour.html">Take the Tour</a> to get oriented. Please also visit <a target="_blank" href="../help/webhelp">Help</a> (link at top right) - don't ignore it until you have a problem, as users generally find it quite approachable and very, very helpful.</p>
							<br>
							<p>You may also wish to visit some <a target="_blank" href="http://heuristscholar.org/?ver=1&w=all&q=tag:%22Heurist+System\Featured+Subsets%22&label=Featured+subsets&description=The+links+below+retrieve+curated+subsets+of+Heurist+records+of+general+interest+assembled+by+special+bibliographic+and+data+collection+projects.+If+you+would+like+to+add+a+collection+here,+email+admin@heuristscholar.org+for+instructions">Example collections on the HeuristScholar.org server</a> </p>
							<br>
							<p>Heurist is a stable system running several major web sites (see Example Collections once you've logged in). It is also a system in rapid development, so if you have suggestions we want to hear them. You may be surprised how quickly your suggestions pop up in the software. </p>
							<br>
							<p>We are also very happy to provide advice - from simple email assistance
							( <a href="mailto:info@heuristscholar.org">info@heuristscholar.org</a> ) to the design of complete eResearch systems. </p>
							<br>
							<p>Please <a href="../admin/ugrps/findAddUser.php?register=1">register</a> and then <a href="../common/connect/login.php">login</a> to take full advantage of the system. </p>
						</div>
						<div id="noresult-search-status" class="errorMsg"> <span>&nbsp;&nbsp;No records match the search&nbsp;&nbsp;</span>
							<div class="not-logged-in-only">To see workgoup-owned and non-public records you may need to log in</div>
							<div class="logged-in-only">Note: some records are only visible to members of particular workgroups</div>
							<div id="noresult-search-status-search-all">Click <a href="#" onClick="top.HEURIST.search.searchAll(); return false;">all records</a> to search all of Heurist</div>
							<!--
							<div id="noresult-search-status-search-web">Click <a href="#" onClick="top.HEURIST.search.launchWebSearch(); return false;">web search</a> to search the web</div>
							-->
						</div>
					</div>
					<div id=results-level0 class="icons" level="0"></div>
					<div id=results-level1 class="icons related-results" level="1"></div>
				</div>
			</div>
</div>

<!--  application tabs -->
<div id="page-right" class=" yui-skin-sam">
			<div id=applications class="yui-navset">
				<!-- <a href="#" id="resultsButton" title="Toggle search results panel"></a>-->
				<ul class="yui-nav">
					<li class="selected"><a href="#r" ><em>Record View</em></a></li>
					<li><a href="#p" ><em>Print View</em></a></li>
					<!--    <li><a href="#m" onClick="top.HEURIST.search.mapSelected();"><em>Map View</em></a></li>-->
					<!--    <li><a href="#c" ><em>Side-By-Side</em></a></li>-->
					<li><a href="#m3" onClick="top.HEURIST.search.mapSelected3();"><em>Map View</em></a></li>
					<li><a href="#s"  onClick="top.HEURIST.search.smartySelected();"><em>Report View</em></a></li>
				</ul>
				<div class="yui-content">
					<div id="r">
						<iframe id="record-view-frame" class=viewers src="../common/html/msgNoRecordsSelected.html"></iframe>
					</div>
					<div id="p">
						<iframe id="viewer-frame" class=viewers></iframe>
					</div>
					<!--    <div id="m"><iframe id="map-frame" class=viewers></iframe></div>-->
					<!--    <div id="c"><iframe id="sidebyside-frame" class=viewers></iframe></div>-->
					<div id="m3">
						<div style="height:25px;">
							<input type="checkbox" style="display:inline-block;position:absolute; top:5px;left:5px;"
								id="cbMapUseAllRecords" onChange="top.HEURIST.search.onMapUseAllRecords(event)">
							<label style="padding-left: 20px;">Selected only</label>
							<a name="auto-popup" class="small" href="../viewers/map/mapMenu.html" Title="Map Search Results"><div id="mapButton" class="button">Publish Map</div></a>
						</div>
						<iframe id="map-frame3" class=viewers></iframe>
					</div>
					<div id="s">
						<iframe id="smarty-frame" class=viewers></iframe>
					</div>
				</div>
			</div>
		</div>

<div id="record-view"></div>
<!-- footer -->
<div id="footer">

			<!--<div id=pageNavCount> <nobr> <span id=page-nav></span> <span id=resource-count></span> </nobr></div>-->
		</div>
		<div id=password>
			<div><b>Username / password reminder:</b></div>
			<div id=reminder></div>
		</div>
		<div style="position: absolute; left: 50%; top: 145px;">
			<div id=popup-notice style="display: none; position: relative; left: -100px; width: 200px; height: 50px; border: 2px solid gray;">
				<table border=0 cellspacing=0 cellpadding=0 style="background-color: light-blue; width: 100%; height: 100%;">
					<tr>
						<td style="vertical-align: middle; text-align: center;"><b id=popup-notice-content></b></td>
					</tr>
				</table>
			</div>
</div>
</div>
<script>
/* lightweight page-specific autosizing */
/*
var lpc = document.getElementById("left-panel-content");
var rpc = document.getElementById("results");

lpc.style.width = (lpc.parentNode.offsetWidth || (lpc.parentNode.parentNode.offsetWidth - 10)) + "px";
lpc.style.height = (lpc.parentNode.offsetHeight || (lpc.parentNode.parentNode.offsetHeight - 10)) + "px";
rpc.style.width = (rpc.parentNode.offsetWidth || (rpc.parentNode.parentNode.offsetWidth - 10)) + "px";
rpc.style.height = (rpc.parentNode.offsetHeight || (rpc.parentNode.parentNode.offsetHeight - 10)) + "px";
*/
/*_tabView = new YAHOO.widget.TabView('applications', { activeIndex: 0 });
*/top.HEURIST.loadScript(top.HEURIST.basePath+"common/php/loadCommonInfo.php");	// core HEURIST object definitions (dynamically generated)
top.HEURIST.loadScript("searchTypes.js");
top.HEURIST.loadScript("search.js");				// search-specific HEURIST functions
//top.HEURIST.loadScript(top.HEURIST.basePath+"records/edit/editRecord.js");				// edit-specific HEURIST functions
top.HEURIST.fireEvent(window, "heurist-search-html-loaded");
top.HEURIST.contentLoaded();

</script>
<!-- hidden iFrame for printing -->
<iframe id="printingFrame" style="height: 0px; width: 0px; position: absolute; visibility:hidden" src="printresults.html"></iframe>
</body>

</html>
