<!--
/**
* Content for configuration Heuist widget onto CMS page
* 
* @package     Heurist academic knowledge management system
* @link        https://HeuristNetwork.org
* @copyright   (C) 2005-2023 University of Sydney
* @author      Artem Osmakov   <osmakov@gmail.com>
* @license     https://www.gnu.org/licenses/gpl-3.0.txt GNU License 3.0
* @version     4.0
*/

/*
* Licensed under the GNU License, Version 3.0 (the "License"); you may not use this file except in compliance
* with the License. You may obtain a copy of the License at https://www.gnu.org/licenses/gpl-3.0.txt
* Unless required by applicable law or agreed to in writing, software distributed under the License is
* distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied
* See the License for the specific language governing permissions and limitations under the License.
*/

<div class="heurist-helper1" style="padding:5px;">
    Add a filter widget + one or more display widgets - they will be 
    linked to operate together if on the same page.
    <br>
    To position widgets insert them in table cells or better via DIVs,
    if you are familiar with CSS use "display" property.
</div>
-->
<div style="top:0px;font-size:0.9em;padding: 1em;">

    <fieldset style="padding:0;line-height:20px" class="cms-widget-config"><legend style="display:none"></legend>

        <ul id="tab-headers">
            <li><a href="#setup">Setup</a></li>
            <li><a href="#controls">Controls</a></li>
            <li><a href="#tools">Tools</a></li> <!-- Custom report widget -->
            <li><a href="#layers">Layers</a></li> <!-- Map widget -->
            <li><a href="#infobox">Infobox</a></li> <!-- Map widget, Normal record viewer / report popup -->
            <li><a href="#image_blog">Images/blog</a></li> <!-- Result list widget -->
            <li><a href="#story">Map</a></li> <!-- Story map widget -->
            <li><a href="#story_overview">Overview</a></li> <!-- Story map widget, Overview and End page -->
            <li><a href="#filters">Filters</a></li> <!-- Simple filter widget -->
            <li><a href="#svs_filters">Saved filters</a></li> <!-- Saved filters widget -->
            <li><a href="#datatable">Table</a></li> <!-- Datatable widget -->
            <li><a href="#add_rec">Add record</a></li> <!-- Add record widget -->
            <li><a href="#nav">Navigation</a></li> <!-- Navigation widget -->
            <li><a href="#email">Email form</a></li> <!-- Email form widget -->
            <!--<li><a href="#collect">Collection</a></li> Collection(?) widget [heurist_resultListCollection] -->
            <li><a href="#texts">Messages</a></li> <!-- Various custom messages, e.g. placeholder and no data -->
            <li><a href="#connections">Connect</a></li>
        </ul>

        <div id="setup"> <!-- Widget settings -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Title above results
                    </div>

                    <input name="title" value=""/>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Show filter name above results&nbsp;
                    </div>

                    <input type="checkbox" name="show_inner_header"/>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Initial view mode
                    </div>

                    <select name="view_mode" class="text ui-widget-content ui-corner-all"
                        title="">
                        <option value="list">Single lines - title</option>
                        <option value="icons">Single lines - icon + title</option>
                        <option value="thumbs">Small images</option>
                        <option value="thumbs3">Large images</option>
                        <option value="record_content">Full record contents</option>
                        <option value="horizontal">Horizontal gallery</option>
                        <option value="vertical">Vertical gallery</option>
                    </select>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Show title as link if URL set
                    </div>

                    <input name="show_url_as_link" type="checkbox" checked/>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Filter to be applied at start
                    </div>

                    <input name="search_initial" size="40"/>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Auto select first record:
                    </div>
                    
                    <input type="checkbox" name="auto_select_first"/>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Record action controls
                    </div>

                    <label><input name="recordDivClass" type="radio" value=""/>internal style / rollover</label><br>
                    <label><input name="recordDivClass" type="radio" value="public" checked/>public style / always on (limited set)</label>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Set class(es) for record from term value(s) for 
                    </div>

                    <select name="field_for_ext_classes" class="text ui-widget-content ui-corner-all" title="">
                    </select>

                </div>

                <div class="heurist_resultListExt">

                    <div class="header header_wide">
                        Custom report template&nbsp;
                    </div>

                    <select name="rep_template" class="text ui-widget-content ui-corner-all" title="">
                    </select>
                    <i class="help-text-block">Define custom reports using the Custom report tab</i>

                </div>

                <div class="heurist_resultListExt">

                    <div class="header header_wide">
                        Filter to be applied at start
                    </div>

                    <input name="search_initial" size="40"/>

                </div>

                <div class="heurist_resultListExt">

                    <div class="header header_wide">
                        Record(s) to show &nbsp;
                    </div>

                    <input value="show_all" name="selection_mode" type="radio" checked="checked"/>
                    <i class="help-text">entire recordset</i>

                    <br>

                    <input value="is_multi_selection" name="selection_mode" type="radio"/>
                    <i class="help-text">all selected records only</i>

                    <br>

                    <input value="is_single_selection" name="selection_mode" type="radio" style="vertical-align: 7px;"/>
                    <i class="help-text">a single (most recent) selected record.<br>Use this in place of inline or popup record view</i>

                </div>

                <div class="heurist_resultListExt">

                    <div style="display: inline-block; width: 155px;">
                        Show all records prior to selection&nbsp;
                    </div>

                    <input name="init_show_all" type="checkbox" style="display:inline-block;margin:0px 0.2em 0px 0.7em;"/>

                </div>

                <div class="heurist_StoryMap">

                    <input name="storyFields" type="hidden" value=""/>
                    <div id="storyFields" style="display:table-row"></div>

                </div>

                <div class="heurist_StoryMapXXXX">

                    <input name="storyRectypes" type="hidden" value=""/>
                    <div id="storyRectypes" style="display:table-row"></div>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header">
                        Story element template&nbsp;
                    </div>

                    <select name="reportElement" class="text ui-widget-content ui-corner-all" title="">
                    </select>
                    <i class="help-text-block">Defines the format used to display story element information</i>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header">
                        Order elements by&nbsp;
                    </div>

                    <select name="elementOrder" class="text ui-widget-content ui-corner-all" title="">
                    </select>
                    <i class="help-text-block">Determines the order of story elements.<br>Use date, year or integer fields to define custom story order</i>        

                </div>

                <div class="heurist_StoryMap">

                    <div class="header">
                        Story mode:
                    </div>

                    <select name="reportElementMode" class="text ui-widget-content ui-corner-all" title="" style="margin-right:10px">
                        <option value="vertical">List Vertical</option>
                        <option value="slide">Slide</option>
                        <option value="tabs">Tabs</option>
                    </select>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header">
                        Distinct story element:
                    </div>

                    <select name="reportElementDistinct" class="text ui-widget-content ui-corner-all" title="">
                        <option value="">None</option>
                        <option value="unveil">Veil others</option>
                        <option value="highlight">Highlight</option>
                    </select>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header">
                        Slide transition:
                    </div>

                    <select name="reportElementSlideEffect" class="text ui-widget-content ui-corner-all" title="">
                        <option value="">Instant</option>
                        <option value="fade">Fade</option>
                        <option value="drop">Wipe</option>
                        <option value="blind">Blind</option>
                        <option value="clip">Clip</option>
                        <!-- option value="puff">Puff</option>
                        <option value="explode">Explode</option -->
                    </select>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header">
                        Show print button
                    </div>

                    <input name="show_print_button" type="checkbox"/>

                    <i>&nbsp; allow users to print the current record set</i>

                </div>

            </fieldset>

        </div>

        <div id="controls"> <!-- Specific control options -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Controls and actions
                    </div>

                    <label>show record count&nbsp;<input type="checkbox" name="show_counter" checked="checked"/></label>&nbsp;&nbsp;
                    <label>view mode selector&nbsp;<input type="checkbox" name="show_viewmode" checked="checked"/></label><br>
                    <label>allow collection&nbsp;<input name="support_collection" type="checkbox"/>&nbsp;&nbsp;</label>
                    <label>export button&nbsp;<input name="show_export_button" type="checkbox"/></label>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Limit export to
                    </div>

                    <label><input name="export_options" value="csv" type="checkbox" checked="checked" style="margin-left: 1em;" /> CSV</label>
                    <label><input name="export_options" value="resultset" type="checkbox" /> XML</label>
                    <label><input name="export_options" value="json" type="checkbox" /> JSon</label>
                    <label><input name="export_options" value="kml" type="checkbox" /> KML</label>
                    <label><input name="export_options" value="iiif" type="checkbox" /> IIIF</label>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Click for record view
                    </div>

                    <label><input name="recordview_onselect" type="radio" value="inline" checked/>opens inline</label>
                    <label><input name="recordview_onselect" type="radio" value="popup"/>opens as popup</label><br>
                    <label><input name="recordview_onselect" type="radio" value="no"/>no action / trigger custom report widget</label>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Record view template
                    </div>

                    <select name="rendererExpandDetails" class="text ui-widget-content ui-corner-all" title="">
                    </select>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Show record view in frame
                    </div>

                    <input name="rendererExpandInFrame" type="checkbox" checked/>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Private record details
                    </div>

                    <select name="recview_private_details" class="text ui-widget-content ui-corner-all">
                        <option value="0"> Hide private details </option>
                        <option value="1"> Show private details (collapsed) </option>
                        <option value="2"> Show private details (expanded) </option>
                    </select>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Check for linked media
                    </div>

                    <input name="check_linked_media" type="checkbox" checked>

                    <i class="help-text" style="vertical-align: -10px;">
                        If the record doesn't have an image to pull from,<br>
                        check a linked record for an image to use as a thumbnail
                    </i>

                </div>

                <div class="heurist_Map">

                    <div class="header header_narrow">
                        General behaviours
                    </div>

                    <div>

                        <label><input type="checkbox" id="use_timeline" checked>Show timeline</label>
                        <label><input type="checkbox" id="use_cluster" checked>Markerclusters</label><br>
                        <label><input type="checkbox" id="map_rollover" checked>Show rollover</label>
                        <label><input type="checkbox" id="editstyle" checked>Allow modify symbology</label><br>
                        <label><input type="checkbox" id="zoom_to_selected" checked>Zoom to selected objects</label><br>
                        <label><input type="checkbox" id="smooth_zoom">Smooth zoom</label> 
                        <label title="step (in levels) for zoom buttons">&nbsp; step: 
                            <input id="zoom_delta" type="number" step="1" min="0" max="10" value="1" style="width:30px">
                        </label>

                    </div>

                </div>

                <div class="heurist_Map">

                    <div class="header header_narrow">
                        Controls to show
                    </div>

                    <div>

                        <label><input type="checkbox" name="controls" value="legend" checked>legend</label>&nbsp;
                        <label><input type="checkbox" name="controls" value="bookmark" checked>bookmark</label><br>
                        <label><input type="checkbox" name="controls" value="geocoder" checked>geocoder</label>&nbsp;
                        <label><input type="checkbox" name="controls" value="selector" checked>selector</label>&nbsp;
                        <label><input type="checkbox" name="controls" value="print" checked>print</label>

                    </div>

                </div>

                <div class="heurist_Map">

                    <div class="header header_narrow">
                        Visible in legend
                    </div>

                    <div>

                        <label><input type="checkbox" name="legend" value="basemaps" checked>basemap</label>&nbsp;
                        <label><input type="checkbox" name="legend" value="search" checked>result set</label><br>
                        <label><input type="checkbox" name="legend" value="mapdocs" checked>map documents</label>
                        &nbsp;&nbsp;<label>Legend width&nbsp;<input name="legend_width" size="3" maxlength="4" value="200"></label>

                    </div>

                </div>

                <div class="heurist_Map">

                    <div class="header header_narrow">
                        Expand at start
                    </div>

                    <div>

                        <label><input type="checkbox" name="legend_exp2" checked>legend</label>&nbsp;
                        <label><input type="checkbox" name="legend_exp" value="search" checked>result set</label><br>
                        <label><input type="checkbox" name="legend_exp" value="mapdocs">map documents</label>&nbsp;
                        <label><input type="checkbox" name="legend_exp" value="basemaps">basemaps</label>

                    </div>

                </div>

                <div class="heurist_Map">

                    <div class="header header_narrow">
                        Zoom limits&nbsp;
                    </div>

                    <div>
                        Block zoom-in below&nbsp;&nbsp;
                        <input name="map_maxzoom" type="number" min="0" value="0" placeholder="" style="width:35px"> km,
                        <label>&nbsp;&nbsp;above&nbsp;&nbsp;
                        <input name="map_minzoom" type="number" min="0" value="0" placeholder="" style="width:35px"> km,</label><br>
                        <label>Zoom to point&nbsp;&nbsp;
                        <input name="map_pntzoom" type="number" min="0" value="5" placeholder="" style="width:35px"> km</label>

                        <br>

                        <label>Ignore map document zooms:<input type="checkbox" name="ignore_mapdoc_zoom"></label>
                    </div>

                </div>

                <div class="heurist_resultListCollection">

                    <div class="header">
                        Action
                    </div>

                    <label><input id="rsc_Mode1" type="radio" name="action_mode" value="map" checked/>Create Map</label>&nbsp;
                    <label><input id="rsc_Mode2" type="radio" name="action_mode" value="filter" disabled="disabled"/>Save as filter</label>

                </div>

                <div class="heurist_resultListCollection">

                    <div class="header">
                        Target database
                    </div>

                    <input name="target_db" value=""/>

                </div>

            </fieldset>

        </div>

        <div id="tools"> <!-- Tools for custom report widget -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_resultListExt">

                    <div class="header">
                        Show as popup&nbsp;
                    </div>

                    <input id="is_popup_report" type="checkbox"/>
                    <i class="help-text" style="vertical-align: -10px;">this widget will be opened as popup window<br>(dimensions will be taken from style)</i>

                </div>

                <div class="heurist_resultListExt">

                    <div class="header">
                        Position&nbsp;
                    </div>

                    <select id="popup_report_position">
                        <option value="">&nbsp;</option>
                        <option value="left">left</option>
                        <option value="right">right</option>
                        <option value="top">top</option>
                        <option value="bottom">bottom</option>
                    </select>

                </div>

                <div class="heurist_resultListExt">

                    <div class="header">
                        Show print button
                    </div>

                    <input name="show_print_button" type="checkbox"/>

                    <i>&nbsp; allow users to print the current record set</i>

                </div>

                <div class="heurist_resultListExt">

                    <div class="header">
                        Show export button
                    </div>

                    <input name="show_export_button" type="checkbox"/>

                    <i>&nbsp; allow users to export the current record set</i>

                </div>

                <div class="heurist_resultListExt">

                    <div class="header">
                        Limit export to
                    </div>

                    <label><input name="export_options" value="csv" type="checkbox" checked="checked" style="margin-left: 1em;" /> CSV</label>
                    <label><input name="export_options" value="resultset" type="checkbox" /> XML</label>
                    <label><input name="export_options" value="json" type="checkbox" /> JSon</label>
                    <label><input name="export_options" value="kml" type="checkbox" /> KML</label>
                    <label><input name="export_options" value="iiif" type="checkbox" /> IIIF</label>

                </div>

            </fieldset>

        </div>

        <div id="layers"> <!-- Maps widget -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_Map">

                    <div class="header header_wide">
                        Default global base map&nbsp;
                    </div>

                    <select name="map_basemap" class="text ui-widget-content ui-corner-all" title="" style="width:auto">
                    </select><br>
                    <button name="basemap_filter">filters</button>&nbsp;
                    <button name="basemap_filter_reset">reset</button>        
                    &nbsp;&nbsp;Filters&nbsp; 
                    <input name="map_basemap_filter" class="hidden" title="" style="width:100px"/>

                </div>

                <div class="heurist_Map">

                    <div class="header header_wide">
                        Superimpose map document&nbsp;
                    </div>

                    <select name="mapdocument" class="text ui-widget-content ui-corner-all" title="" style="width:240px">
                    </select>

                </div>

                <div class="heurist_Map">

                    <div class="header header_wide">
                        Visible base maps&nbsp;
                    </div>

                    <input name="basemaps" class="text ui-widget-content ui-corner-all" title="" readonly 
                            style="width:200px;padding-left: 18px;line-height: 20px;"/>

                </div>

                <div class="heurist_Map">

                    <div class="header header_wide">
                        &nbsp;Default base map&nbsp;
                    </div>

                    <select name="map_basemap" class="text ui-widget-content ui-corner-all" title="" style="width:150px">
                    </select><br>

                    <button name="basemap_filter">filters</button>&nbsp;
                    <button name="basemap_filter_reset">reset</button>        
                    &nbsp;&nbsp;Filters&nbsp; 
                    <input name="map_basemap_filter" class="hidden" title="" style="width:100px"/>

                </div>

                <div class="heurist_Map">

                    <div class="header header_wide">
                        Visible map documents&nbsp;
                    </div>

                    <input name="mapdocuments" class="text ui-widget-content ui-corner-all" title="" readonly 
                            style="width:200px;padding-left: 18px;line-height: 20px;"/>

                </div>

                <div class="heurist_Map">

                    <div class="header header_wide">
                        &nbsp;Default map documents&nbsp;
                    </div>

                    <select name="mapdocument" class="text ui-widget-content ui-corner-all" title="" style="width:150px">
                    </select>

                </div>

                <div class="heurist_Map">

                    <div class="header header_wide" style="vertical-align: top;padding-top:0px;">
                        Filter current results&nbsp;
                    </div>
        
                    <input name="current_search_filter"/><br>

                    <i class="help-text-block">Filter is applied to the current resultset </i>

                </div>

                <div class="heurist_Map" id="map_default_style_div">

                    <div class="header header_wide">
                        Symbology for current search 
                    </div>

                    <input id="map_default_style" name="map_default_style" class="text ui-widget-content ui-corner-all"/>

                </div>

                <div class="heurist_Map" id="map_select_style_div">

                    <div class="header header_wide">
                        Symbology for selection 
                    </div>

                    <input id="map_select_style" name="map_select_style" class="text ui-widget-content ui-corner-all"/>

                </div>

            </fieldset>

        </div>

        <div id="infobox"> <!-- Record / Report popup -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_Map">

                    <div class="header">
                        Click map item for info&nbsp;
                    </div>

                    <div>
                        <label><input type="radio" name="map_popup" value="standard" checked>within map</label>&nbsp;
                        <label><input type="radio" name="map_popup" value="dialog">Separate popup</label>
                        <label><input type="radio" name="map_popup" value="none">Disable</label>
                    </div>

                </div>
                    
                <div class="heurist_Map">

                    <div class="header">
                        Map info popup format&nbsp;
                    </div>

                    <select name="map_template" class="text ui-widget-content ui-corner-all" title="" style="width:240px">
                    </select>

                </div>
        
                <div class="heurist_Map">

                    <div class="header">
                        Map popup size
                    </div>

                    <div>
                        <label><input type="radio" name="popup_behaviour" value="fixed" checked>Fixed size</label>&nbsp;
                        <label><input type="radio" name="popup_behaviour" value="fixed_width">Fixed width</label>&nbsp;
                        <label><input type="radio" name="popup_behaviour" value="scale">Scale to content</label><br>
                        <label><span id="pw_label">Width:</span> <input name="popup_width" maxlength="3" size="3" value="300"></label>&nbsp;
                        <select name="popup_hunit"><option value="px">px</option><option value="%">%</option></select>
                        <label>&nbsp;<span id="ph_label">Length:</span> <input name="popup_height" maxlength="3" size="3" value="400"></label>&nbsp;
                        <select name="popup_wunit"><option value="px">px</option><option value="%">%</option></select>
                        </p>
                        <!-- Temp hide -->
                        <p style="display: none;"><span style="min-width: 105px;display: none;text-align: right;">Other settings&nbsp;</span>
                            <label><input type="checkbox" name="popup_resizing">Resizable</label>
                            <i class="help-text">check this to allow the user to resize the popup,<br>note: this will overwrite any width and length you set here</i>
                        </p>
                    </div>

                </div>

            </fieldset>

        </div>

        <div id="image_blog"> <!-- Result list image and blog controls -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Show images in record viewer
                    </div>

                    <label><input name="recviewer_images" type="radio" value="0" /> Show all images</label>
                    <label><input name="recviewer_images" type="radio" value="1" checked="checked"/> Hide linked media</label><br>
                    <label><input name="recviewer_images" type="radio" value="2" /> Hide all images</label>

                </div>
        
                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Popup dimensions: 
                    </div>

                    <label>&nbsp;&nbsp;&nbsp;<span>Width:</span> <input name="dialog_width" maxlength="3" size="3" value="300"></label>&nbsp;
                    <select name="dialog_hunit"><option value="px">px</option><option value="%">%</option></select>
                    <label>&nbsp;<span>Height:</span> <input name="dialog_height" maxlength="3" size="3" value="400"></label>&nbsp;
                    <select name="dialog_wunit"><option value="px">px</option><option value="%">%</option></select>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Popup position: 
                    </div>

                    <label>&nbsp;&nbsp;&nbsp;<span id="pt_label">Top:</span> <input name="dialog_top" maxlength="3" size="3" value="300"></label>&nbsp;
                    <select name="dialog_tunit"><option value="px">px</option><option value="%">%</option></select>
                    <label>&nbsp;<span id="pl_label">Left:</span> <input name="dialog_left" maxlength="3" size="3" value="400"></label>&nbsp;
                    <select name="dialog_lunit"><option value="px">px</option><option value="%">%</option></select>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Allow inline content display:
                    </div>

                    <input type="checkbox" name="allow_record_content_view"/><br>

                    <i class="help-text" style="vertical-align: -20px;">
                        Inline content display (all results).<br>Use ONLY if never more than 10 - 20 records in results<br>(intended for monthly blogs)
                    </i>

                </div>

                <div class="heurist_resultList">

                    <div class="header header_wide">
                        Blog Mode:
                    </div>

                    <input type="checkbox" name="blog_result_list"/>

                    <i class="help-text" style="vertical-align: -10px;">
                        (Limits initial display to 10 records,<br>but does not limit display on subsequent selections)
                    </i>

                </div>

            </fieldset>

        </div>

        <div id="story"> <!-- Story map -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_StoryMap">

                    <div class="header header_wide">
                        Story element filter for initial map&nbsp;
                    </div>

                    <input name="reportOverviewMapFilter" class="text ui-widget-content ui-corner-all" title="" style="width:250px"/>
                    <i class="help-text-block">Determines the set of story elements on the initial map<br>(rather than showing all stories in the current resultset)</i>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_wide">
                        Story on map:
                    </div>

                    <select name="reportElementMapMode" class="text ui-widget-content ui-corner-all truncate" title="">
                        <option value="linked">all places in story elements with connecting lines</option>
                        <option value="all">all places in story elements without connecting lines</option>
                        <option value="filtered">filtered places in story elements applying a filter to story elements</option>
                    </select>
                
                    <span style="display:none">

                        Filter:

                        <input name="reportElementMapFilter"/>

                    </span>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_wide">
                        Duration for zoom on map:
                    </div>

                    <input name="zoomAnimationTime" class="text ui-widget-content ui-corner-all" width="60px" min="0" max="20000" step="100" title="" type="number" placeholder="5000"/>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_wide">
                        Map symbology:
                    </div>

                    <input id="def_map_symbology" name="def_map_symbology" class="text ui-widget-content ui-corner-all"/>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_wide">
                        Story element symbology:
                    </div>

                    <input id="def_story_symbology" name="def_story_symbology" class="text ui-widget-content ui-corner-all"/>

                    <i class="help-text-block">This is overridden by any animation defined within<br>the story element's record</i>

                </div>
                
            </fieldset>

        </div>

        <div id="story_overview"> <!-- Story map, overview and end page -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_StoryMap">

                    <div class="header header_narrow">
                        Overview mode:
                    </div>

                    <select name="reportOverviewMode" class="text ui-widget-content ui-corner-all" title="">
                        <option value="tab">Tab</option>
                        <option value="inline">Inline as first story element</option>
                        <option value="header">Header</option>
                        <option value="no">No overview</option>
                    </select>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_narrow">
                        Overview template:
                    </div>

                    <select name="reportOverview" class="text ui-widget-content ui-corner-all" title="">
                    </select>

                    <i class="help-text-block">Defines the format used to display story overview<br>derived from the main story record</i>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_narrow">
                        End page mode:
                    </div>

                    <select name="reportEndPageMode" class="text ui-widget-content ui-corner-all" title="">
                        <option value="tab">Tab</option>
                        <option value="inline">Inline as last story element</option>
                        <option value="footer">Footer</option>
                        <option value="no">No end page</option>
                    </select>

                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_narrow">
                        End page template:
                    </div>

                    <select name="reportEndPage" class="text ui-widget-content ui-corner-all" title="">
                    </select>

                    <i class="help-text-block">Defines the format used to display end of story<br>derived from the main story record</i>

                </div>

            </fieldset>

        </div>

        <div id="filters"> <!-- Simple filter widget -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_SearchInput">

                    <input name="btn_entity_filter" type="hidden" value="false"/>
                    <input name="menu_entity_filter" type="hidden" value="false"/>
                    <input name="isloginforced" type="hidden" value="false"/>

                    <div class="header header_wide">
                        Filter button label
                    </div>

                    <input name="search_button_label" value=""/><br>

                    <i class="help-text-block">If blank, the button will only have an icon</i>

                </div>    
        
                <div class="heurist_SearchInput">

                    <div class="header header_wide">
                        Label preceding filter field
                    </div>

                    <input name="search_input_label" value=""/><br>

                    <i class="help-text-block">If blank, the label will be omitted</i>

                </div>

                <div class="heurist_SearchInput">

                    <div class="header header_wide">
                        Preliminary filter
                    </div>

                    <input name="sup_filter" value=""/>

                </div>

                <div class="heurist_SearchInput">

                    <div class="header header_wide">
                        Show filter builder button
                    </div>

                    <input name="show_search_assistant" type="checkbox" value="false"/>

                </div>
        
                <div class="heurist_SearchInput">

                    <div class="header header_wide">
                        Update filter on external search
                    </div>

                    <input name="update_on_external_search" type="checkbox" />

                </div>
        
                <div class="heurist_SearchInput">

                    <div class="header header_wide">
                        Prepend all: to search criteria (searches all fields)
                    </div>

                    <input name="append_all_to_search" type="checkbox" />

                </div>

                <div class="heurist_SearchInput">

                    <div class="header header_wide">
                        Message prior to selection
                    </div>

                    <label><input type="checkbox" name="si_blank_placeholder"> check to leave blank</label>,
                    otherwise defaults to <br>
                    "<span id="si_placeholder_def" class="truncate" style="width: auto;max-width: 235px;line-height: 8px;display: inline-block;cursor: default;"></span>"

                    <br>
                    <textarea id="si_placeholder_text" rows="3" cols="45"></textarea>
                    <br>

                    <i class="help-text-block">
                        Message to display while search is not performed or no record or search has been selected
                    </i>

                </div>

            </fieldset>

        </div>

        <div id="svs_filters"> <!-- Saved filters widget -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_SearchTree"  style="padding-top:10px">
                    <!-- Allowed groups -->
                    <input name="allowed_UGrpID" type="hidden" value=""/>
                    <div id="allowed_UGrpID" style="display:table-row"></div>

                </div>

                <div class="heurist_SearchTree">
                    <!-- Allowed filters -->
                    <input name="allowed_svsIDs" type="hidden" value=""/>
                    <div id="allowed_svsIDs" style="display:table-row"></div>

                </div>

                <div class="heurist_SearchTree">

                    <div class="header header_wide">
                        Display filters as&nbsp;
                    </div>

                    <label><input id="heurist_SearchTreeMode1" type="radio" name="searchTreeMode" value="0" checked="checked"/>Buttons</label>&nbsp;
                    <label><input id="heurist_SearchTreeMode2" type="radio" name="searchTreeMode" value="1"/>Tree</label>
                    <label><input id="heurist_SearchTreeMode3" type="radio" name="searchTreeMode" value="2"/>Complete tree</label>

                </div>

                <div class="heurist_SearchTree">
                    <!-- Initial filter to trigger -->
                    <input name="init_svsID" type="hidden" value=""/>
                    <div id="init_svsID" style="display:table-row"></div>

                </div>

                <div class="heurist_SearchTree">

                    <div id="hide_no_value_facets" class="header header_wide">
                        List empty facets at end
                    </div>

                    <input name="hide_no_value_facets" type="checkbox" checked="checked" />

                </div>

                <div class="heurist_SearchTree">

                    <div id="simple_search_allowed" class="header header_wide">
                        Enable search everything:
                    </div>

                    <input name="simple_search_allowed" type="checkbox" />
                    <i class="help-text"> Enable the search everything field </i>

                </div>

                <div class="heurist_SearchTree">

                    <div id="simple_search_header" class="header header_wide">
                        Search everything header:
                    </div>

                    <input name="simple_search_header" value="" />
                    <i class="help-text-block"> Customise search everything header text<br>If blank: "Simple search"</i>

                </div>

                <div class="heurist_SearchTree">

                    <div id="simple_search_text" class="header header_wide">
                        Search everything text:&nbsp;
                    </div>

                    <label><input name="simple_search_text" value="" /></label>
                    <i class="help-text-block"> Customise search everything field text<br>If blank: "Search everything:"</i>

                </div>

            </fieldset>

        </div>

        <div id="datatable"> <!-- Data tables widgets -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_resultListDataTable">

                    <div class="header header_wide">
                        Controls and actions
                    </div>

                    <!-- <label>rectype filter&nbsp;<input type="checkbox" name="show_rt_filter"/></label>&nbsp; -->
                    <label>show record counter&nbsp;<input type="checkbox" name="show_counter" checked/></label><br>
                    <label>enable column config&nbsp;<input type="checkbox" name="show_column_config"/></label><br>
                    <label>enable find&nbsp;<input type="checkbox" name="show_search"/></label>

                </div>

                <div class="heurist_resultListDataTable">

                    <div class="header header_wide">
                        Filter to be applied at start
                    </div>

                    <input name="search_initial" size="40"/>

                </div>

                <div class="heurist_resultListDataTable">

                    <div class="header header_wide" style="vertical-align:top">
                        Data table parameters (advanced)
                    </div>

                    <textarea id="dataTableParams" rows="10" cols="45"></textarea>

                </div>

            </fieldset>

        </div>

        <div id="add_rec"> <!-- Add record widget -->
            
            <fieldset><legend style="display:none"></legend>

                <div class="heurist_recordAddButton">

                    <div class="header header_narrow">
                        Select record type
                    </div>

                    <button name="add_record_cfg">Config</button>
                    <span id="add_record_desc" style="font-size: 0.9em;"></span>
                    <input name="RecTypeID" type="hidden"/>
                    <input name="OwnerUGrpID" type="hidden"/>
                    <input name="NonOwnerVisibility" type="hidden"/>

                </div>

                <div class="heurist_recordAddButton">

                    <div class="header header_narrow">
                        Button label
                    </div>

                    <input name="add_record_label" value=""/>

                </div>

            </fieldset>

        </div>


        <div id="nav"> <!-- Navigation widget -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_Navigation">

                    <div class="header header_narrow">
                        Orientation&nbsp;
                    </div>

                    <select name="orientation" class="text ui-widget-content ui-corner-all" title="">
                        <option value="horizontal">horizontal</option>
                        <option value="vertical">vertical</option>
                        <option value="treeview">treeview</option>
                    </select>

                </div>

                <div class="heurist_Navigation">

                    <input name="menu_recIDs" type="hidden" value=""/>
                    <div id="menu_recIDs" style="display:table-row"></div>

                </div>

                <div class="heurist_Navigation" id="expandLevels">

                    <div class="header header_narrow">
                        On loading&nbsp;
                    </div>

                    <label><input name="expand_levels" type="radio" value="0" checked/>Show first level only</label><br>
                    <label><input name="expand_levels" type="radio" value="1"/>Open second level</label><br>
                    <label><input name="expand_levels" type="radio" value="2"/>Open all levels</label>

                </div>

                <div class="heurist_Navigation">

                    <div class="header header_narrow">
                        Open&nbsp;
                    </div>

                    <select name="target" class="text ui-widget-content ui-corner-all" title="">
                        <option value="inline">inline (uses field "Target element")</option>
                        <option value="inline_page_content">inline (into div id="page-content")</option>
                        <option value="popup">in popup</option>
                    </select>

                </div>

            </fieldset>

        </div>

        <div id="email"> <!-- Email form widget -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_emailForm">

                    <div class="header header_narrow">
                        Show form as&nbsp;
                    </div>

                    <label><input name="isdialog" type="radio" value="1" checked/>Popup</label>
                    <label><input name="isdialog" type="radio" value="0"/>Inline</label>

                </div>

                <div class="heurist_emailForm">

                    <div class="header header_narrow">
                        Form ID
                    </div>
                    
                    <div>
                        <input name="element_id" value="" size="45"/>
                        <i class="help-text-block">Specify html ID of your email form.<br>Otherwise it will use predefined form</i>
                    </div>

                </div>

            </fieldset>

        </div>
        <div id="texts"> <!-- Messages -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_resultList heurist_resultListExt heurist_resultListDataTable heurist_StoryMap">

                    <div class="header header_wide">
                        Message prior to selection
                    </div>

                    <label><input type="checkbox" name="blank_placeholder"> check to leave blank</label>,
                    otherwise defaults to <br>
                    "<span id="placeholder_def" class="truncate" style="width: auto;max-width: 235px;line-height: 8px;display: inline-block;cursor: default;"></span>"

                    <br>
                    <textarea id="placeholder_text" rows="10" cols="45"></textarea>
                    <br>

                    <i class="help-text-block">
                        Message to display while search is not performed or no record or search has been selected
                    </i>

                </div>
        
                <div class="heurist_resultList heurist_resultListExt heurist_resultListDataTable">

                    <div class="header header_wide">
                        No data message
                    </div>

                    <label><input type="checkbox" name="blank_empty_remark"> check to leave blank</label>,
                    otherwise defaults to <br>
                    "<span id="empty_remark_def" class="truncate" style="width: auto;max-width: 235px;line-height: 8px;display: inline-block;cursor: default;"></span>"

                    <br>
                    <textarea id="empty_remark" rows="10" cols="45"></textarea>
                    <br>

                    <i class="help-text-block">
                        Message to be shown if query returns no records
                    </i>

                </div>
        
                <div class="heurist_StoryMap">

                    <div class="header header_wide">
                        Message if no story elements
                    </div>

                    <label><input type="checkbox" name="blank_elementsPlaceholder"> check to leave blank</label>,
                    otherwise defaults to <br>
                    "<span id="elementsPlaceholder_def" class="truncate" style="width: auto;max-width: 235px;line-height: 8px;display: inline-block;cursor: default;"></span>"

                    <br>
                    <textarea id="elementsPlaceholder" rows="10" cols="45"></textarea>
                    <br>

                    <i class="help-text-block">
                        Message to be shown if query returns no records
                    </i>

                </div>
                
                <div class="heurist_StoryMap">

                    <div class="header header_wide">
                        Sub-message in smaller font
                    </div>

                    <input name="elementsPlaceholderSub" size="45"/>

                </div>

                <div class="heurist_resultListCollection">

                    <div class="header">
                        Instructions
                    </div>
        
                    <input name="instructionText" value="Please search for the map document" size="45"/>
        
                </div>

            </fieldset>

        </div>
        <div id="connections"> <!-- General widget details; i.e. Search group id, linked map, widget id -->

            <fieldset><legend style="display:none"></legend>

                <div class="heurist_Map">

                    <div class="header header_narrow" style="vertical-align: top;padding-top:0px;">
                        Link to custom style&nbsp;
                    </div>
        
                    <textarea name="custom_links" rows="1" cols="50"></textarea>
                    <i class="help-text-block">Link to CSS file with styles to be injected to iframe with map</i>
        
                </div>

                <div class="heurist_StoryMap">

                    <div class="header header_narrow">
                        Map Unique ID
                    </div>

                    <input name="map_widget_id"/>
                    <i class="help-text-block">Reference to map widget.<br>Define this unique ID in Map widget properties</i>

                </div>
        
                <div Xclass="heurist_Navigation heurist_Search heurist_SearchTree heurist_resultList heurist_resultListExt heurist_resultListDataTable heurist_resultListCollection heurist_Map">

                    <div class="header header_narrow">
                        Search group&nbsp;
                    </div>

                    <input name="search_realm"  value="sr1"/>
                    <i class="help-text-block">Arbitrary identifier for a group of widgets which share search and select events</i>

                </div>
                
                <div>

                    <div class="header header_narrow">
                        Info directs to page&nbsp;
                    </div>

                    <select name="search_page"></select>
                    <i class="help-text-block">Info request should load this page and pass search request or selection to widgets of the specified search group</i>

                </div>
        
                <div>

                    <div class="header header_narrow">
                        Unique widget id&nbsp;
                    </div>

                    <input name="widget_id"/>
                    <i class="help-text-block">Unique, arbitrary, HTML ID for widget, for reference in javascript and from other widgets</i>

                </div>

            </fieldset>

        </div>

    </fieldset>

</div>