<div class="ent_wrapper">
    
        <div style="position:absolute;top:0px;bottom:0px;left:0px;width:202px;">
        
            <select id="sel_record_scope" style="display:none"></select>         
            
            <div style="text-align:left;padding:5px;" class="heurist-helper3">
                &nbsp;<br>
                Select fields to insert
                <br>
                (add to record structure first)
                <br>&nbsp;<br>
                <label id="selectAll_container" style="font-size: 11px;"><input type="checkbox" id="selectAll">Select All Visible Options</label>
            </div>

            <div style="position:absolute;top:72px;bottom:0px;left:0px;width:220px;outline: none;margin-top:-8px;overflow:auto">
                <div id="rectype_tree" class="rtt-tree tree-facets"></div>
            </div>
        </div>
            
        <div id="formContainer" style="position:absolute;top:0px;bottom:30px;left:220px;right:5px;">
                <div style="padding:10px;text-align:left;padding-bottom:0px;" class="heurist-helper2">
                    The title mask builds a composite title from fields in the record (see manual).

                    Field values identified by [ ] are inserted into the mask,<br>

                    e.g. <b>[Title], pp. [Start_Page]-[End_Page] </b> might generate:

                    <b>"Alice in Wonderland, pp. 37-39" </b><br>&nbsp;<br>

                    The element names in square brackets should match field names for this record type.<br>

                    The constructed value is used as the extended title displayed in search results and other lists.<br>

                    To insert a literal square-bracket, use two consecutive square-brackets ([[ or ]]).<br>&nbsp;<br>

                    Add optional text if a value is not available by adding {\Text for existing value \Text for missing value} after a field.<br>

                    e.g. <b>[Starting_date] {\Starting date of: \No starting date}</b> will either generate:<br>

                    <b>"Starting date of: 04-11-1974"</b> or <b>"No starting date"</b> if there isn't Start_date is empty.<br>

                    Additional add a character cap to field values by adding the desire amount within the optional text like so,<br>

                    {<b>50</b> \Text for existing value \Text for missing value} will cause the value, if it exists, to show 50 characters max.<br>&nbsp;<br>
                </div>

                <hr/>

                <div style="text-align:left; padding-top:20px;padding-bottom:1px;padding-left: 20px;">
                    <b>Build Mask:</b> &nbsp;&nbsp;&nbsp; <button id="btnInsertField" style="width:60px;">Insert fields</button>
                    &nbsp;&nbsp;<span class="heurist-helper2">Select fields in tree and click button to insert in mask at cursor position</span>
                    <br/>
                    <span class="heurist-helper2" style="display: inline-block;padding:10px 0px;">For legibility we strongly advise splitting field specifications onto separate lines (which will be combined in the result)</span>
                    <br/>
                    <textarea cols="550" id="rty_TitleMask" rows="10" style="font-size:1em;width:550px;"></textarea><br/>
                    <br>
                </div>

                <!-- Artem: do not remove this - it is used for debug 
                <div style="text-align:left; padding-top:10px; padding-left: 10px;display: block;" >
                    Canonical Mask:&nbsp;

                    <input maxlength="500" id="rty_CanonincalMask" style="width:350;"/> &nbsp;&nbsp;

                    <button style="width:60px;" onclick="window.editRectypeTitle.doCanonical(2)">make canonic</button>

                    <button style="width:60px;" onclick="window.editRectypeTitle.doCanonical(3)">make text</button>

                    <br>&nbsp;<br>&nbsp;<br>
                </div>
                -->
                

                <hr/>

                <div style="padding-top:10px;padding-bottom:10px;padding-left: 20px;text-align:left">
                    <b>Test mask</b> <br>&nbsp;<br>

                    <select id="listRecords" style="width:300px;"><option>select from records of this type (if any exist) ...</option></select>

                    <br>&nbsp;<br><button id="btnTestMask" style="width:40px;">Test</button>

                    <div id="testResult" title="Test result will appear here"  style="padding-left:40px; padding:5px; width: 400px; height: 10px;text-align:left"></div>
                </div>

        </div>
</div>