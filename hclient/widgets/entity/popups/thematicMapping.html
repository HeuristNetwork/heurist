<div id="div_search" class="ent_wrapper">
    <div class="ent_header" style="height:110px;border-bottom:1px solid gray;padding:0px">
    
        <div style="width:300px;display:inline-block">
            <h4 style="margin: 5px;width:290px;">
                Thematic maps
                <span id="btn_tm_add" class="ui-icon ui-icon-circle-b-plus" style="margin-top:2px;float:right;cursor:pointer" title="Add new thematic map"/>
            </h4>
            <select id="thematic_maps_list" size="5" style="width:290px;margin:5px"></select>
        </div>
    
        <fieldset style="display:inline-block"><legend style="display:none"></legend>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input">
                <div class="header">
                    <label for="tm_name">Thematic map title:</label>
                </div>
                <div style="line-height:1em">
                    <input id="tm_name" class="text ui-widget-content ui-corner-all" style="width:300px;max-width:40em;"/>
                    <button id="btn_map_remove">Remove Theme</button>
                </div>
            </div>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input">                   
                <div class="header">
                    <label for="tm_active">Activate on layer load:</label>
                </div>
                <div style="line-height:1em">
                    <input id="tm_active" class="text ui-widget-content ui-corner-all" type="checkbox"/>
                </div>
            </div>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input">                   
                <div class="header">
                    <label for="tm_symbol">Base symbology:</label>
                </div>
                <div style="line-height:1em">
                    <input id="tm_symbol" class="text ui-widget-content ui-corner-all" style="width:500px;"/>
                </div>
            </div>
        </fieldset>
    </div>

    <!-- TREE for field selection -->
    <div style="top:115px; bottom:0; position:absolute; width:300px;" class="input ent_content">
        <h4 style="margin: 5px;width:290px;">Thematic Map Fields</h4>
        <select id="selected_fields" size="5" style="width:290px;margin:5px"></select>
        <div style="padding:10px 0 0 18px">
            <label for="sel_record_scope">Select fields:</label><br>
            <select id="sel_record_scope" class="text ui-widget-content ui-corner-all" style="width:270px;margin-top:7px"></select>
        </div>
        <div class="detailRow rtt-tree tree-csv" style="padding:10px; overflow:auto; position:absolute; width:280px; top:147px;bottom:0px" id="rectype_tree">
        </div>
    </div>

    <!-- FIELD's ranges -->
    <div id="div_work_area" style="display:none;position:absolute; top:115px; bottom:0px; left:301px; right:0px; border-left:1px solid gray;overflow:auto; padding:0px 10px">
        <h4 style="margin: 5px;">Field ranges/categories</h4>
        <div style="margin-top: 10px">
                <label for="f_title">Title:</label>
                <input id="f_title" class="text ui-widget-content ui-corner-all" style="width:300px;"/>
                <button id="btn_f_remove" >Remove Field</button>
        </div>
        <div id="f_toolbar" style="padding:5px;margin-top: 22px">
            <button id="btn_f_range_add">Add range</button>
            <button id="btn_f_range_auto">Auto</button>
            <button id="btn_f_range_reset">Remove All</button>
            <button id="btn_f_range_symb" style="margin-left:200px">Set symbol gradients</button>
        </div>
        <div id="f_ranges"></div>
    </div>
</div>

<div class="ent_wrapper progressbar_div" style="display: none; background:white">
        <div class="loading" style="display:none;height:100%"></div>
        <div style="width:80%;height:40px;padding:5px;text-align:center;margin:auto;margin-top:20%;">
            <div id="progressbar">
                <div class="progress-label">Processing data...</div>
            </div>
            <div class="progress_stop" style="text-align:center;margin-top:4px">Abort</div>
        </div>
</div>

<div id="divAutoRanges" style="display: none; background:white">
        <!-- for numeric and dates -->
        <fieldset style="display:inline-block" class="numeric date"><legend style="display:none"></legend>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input">
                <div class="header">
                    <label for="int_count">Intervals count:</label>
                </div>
                <div style="line-height:1em">
                    <input id="int_count" class="text ui-widget-content ui-corner-all" type="number" min="1" max="50" style="width:80px;"/>
                </div>
            </div>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input">                   
                <div class="header">
                    <label for="int_min">Min / Range from:</label>
                </div>
                <div style="line-height:1em">
                    <input id="int_min" class="text ui-widget-content ui-corner-all" style="width:150px;"/>
                </div>
            </div>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input">                   
                <div class="header">
                    <label for="int_max">Max / Range to:</label>
                </div>
                <div style="line-height:1em">
                    <input id="int_max" class="text ui-widget-content ui-corner-all" style="width:150px;"/>
                </div>
            </div>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input numeric">                   
                <div class="header">
                    <label for="int_round">Rounding:</label>
                </div>
                <div style="line-height:1em">
                    <select id="int_round" class="text ui-widget-content ui-corner-all" style="width:100px;">
                        <option value="100000">100000</option>
                        <option value="10000">10000</option>
                        <option value="1000">1000</option>
                        <option value="100">100</option>
                        <option value="10">10</option>
                        <option value="0" selected>0</option>
                        <option value="1">.10</option>
                        <option value="2">.100</option>
                        <option value="3">.1000</option>
                    </select>
                </div>
            </div>
            <div style="padding: 0.2em; width: 100%; line-height:2; display:none" class="input date">                   
                <div class="header">
                    <label for="int_round_date">Rounding:</label>
                </div>
                <div style="line-height:1em">
                    <select id="int_round_date" class="text ui-widget-content ui-corner-all" style="width:150px;">
                        <option value="none" selected></option>
                        <option value="day">days</option>
                        <option value="month">months</option>
                        <option value="year">years</option>
                        <option value="decade">decades</option>
                        <option value="century">centuries</option>
                    </select>
                </div>
            </div>
        </fieldset>
        <!-- for enums -->
        <fieldset style="display:none" class="enum"><legend style="display:none"></legend>
            <div style="padding: 0.2em; width: 100%; line-height:2" class="input">                   
                <label><input type="radio" checked id="enum_db" name="enum_mode"/>Use actual values from database</label>
                <label><input type="radio" id="enum_all" name="enum_mode"/>Use all terms</label>
            </div>
        </fieldset>
        <div id="ranges_preview" style="border-top: solid 1px black; margin: 10px;"/>
</div>