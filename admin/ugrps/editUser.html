<!--

/**
* editUserp.html
* A form to edit user, or create a new user. It is utilized as pop-up from manageGroups and manageUsers
*
* @version 2011.0509
* @author: Artem Osmakov
*
* @copyright (C) 2005-2011 University of Sydney Digital Innovation Unit.
* @link: http://HeuristScholar.org
* @license http://www.gnu.org/licenses/gpl-3.0.txt
* @package Heurist academic knowledge management system
* @todo
**/

-->
<html>
<head>

<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title></title>

<link rel="stylesheet" type="text/css" href="../../common/css/global.css">

<!-- YUI -->
<link rel="stylesheet" type="text/css" href="../../external/yui/2.8.2r1/build/fonts/fonts-min.css" />
<script type="text/javascript" src="../../external/yui/2.8.2r1/build/yahoo-dom-event/yahoo-dom-event.js"></script>
<script type="text/javascript" src="../../external/yui/2.8.2r1/build/element/element-min.js"></script>
<script type="text/javascript" src="../../external/yui/2.8.2r1/build/history/history-min.js"></script>
<script type="text/javascript" src="../../external/yui/2.8.2r1/build/json/json-min.js"></script>


<style type="text/css">
.dtyField {
	display: block;
}
.dtyHiddenField {
	display: none;
}
.dtyLabel {
	display: inline-block;
	width: 130px;
	text-align: right;
	padding-right: 3px;
}
.dtyValue {
	display: inline-block;
}
.help1 {
	padding-left: 133px;
	padding-bottom: 2px;
}
.actionButtons {
	float:right;
	padding-right: 130px;
}

</style>

</head>

<body>
<!--		<script type="text/javascript" src="../../common/js/utilsLoad.js"></script> -->
		<script type="text/javascript" src="../../common/js/utilsUI.js"></script>
		<script src="../../common/php/displayPreferences.php"></script>
<!--
		<script type="text/javascript" src="../../common/php/loadUserGrpInfo.php?userEmail=Linda.Barwick@arts.usyd.edu.au"></script>
-->
		<script type="text/javascript" src="../../admin/ugrps/editUser.js"></script>

		<script type="text/javascript">

			if(Hul.isnull(top.HEURIST)) { top.HEURIST = {}; }

			var _db = (top.HEURIST.parameters.db? top.HEURIST.parameters.db :
						(top.HEURIST.database.name?top.HEURIST.database.name:''));
			var _url = top.HEURIST.basePath +'admin/ugrps/loadUserGrps.php?method=getuser&db='+_db;

			top.HEURIST.parameters = top.HEURIST.parseParams(location.search);
			var _recID = top.HEURIST.parameters.recID;
			/* not used anymore
			var _userEmail = top.HEURIST.parameters.user;
			if(!Hul.isnull(_userEmail)) {
				_url = _url + "&userEmail="+encodeURIComponent(_userEmail);
			}else {}*/

				if(Hul.isnull(_recID)) { _recID = 0; }
				_url = _url + "&recID="+_recID;

			//top.HEURIST.loadScript(_url, true);
			Hul.loadScript2(this.document, _url);
		</script>


<div style="width:580;margin:auto;">
<br/>
<div id="statusMsg"></div>
<div id="detailTypeValues" style="padding:5px;">

	<div class="dtyField">
		<label class="dtyLabel" for="ugr_ID">Code:</label>
		<label id="ugr_ID"></label>
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_FirstName">First name:</label>
		<input id="ugr_FirstName" style="width:200;" maxlength="40" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_LastName">Last name:</label>
		<input id="ugr_LastName" style="width:200;" maxlength="63" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_eMail">Email:</label>
		<input id="ugr_eMail" style="width:200;" maxlength="100" onkeyup="document.getElementById('ugr_Name').value=this.value;"/>
		<div class="help prompt help1">
			<label>This will be your User Name</label>
		</div>
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Organisation">Institution/company:</label>
		<input id="ugr_Organisation" style="width:200;" maxlength="120" />
		<div class="help prompt help1">
			<label>Enter 'None' if not affiliated with an institution or company </label>
		</div>
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Interests">Research Interests:</label>
		<input id="ugr_Interests" style="width:200;" maxlength="255" />
		<div class="help prompt help1">
			<label>To be defined????</label>
		</div>
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Name">Login:</label>
		<input id="ugr_Name" style="width:200;" maxlength="63" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Password">Password:</label>
		<input id="ugr_Password" type="password" style="width:200;" maxlength="40" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Password2">Repeat password:</label>
		<input id="ugr_Password2" type="password" style="width:200;" maxlength="40" />
		<div class="help prompt help1" style="padding-left: 10px;">
			<label>Warning: this is not an encrypted connection, so please don't use your institutional or banking password.</label>
		</div>
	</div>

	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Department">Department:</label>
		<input id="ugr_Department" style="width:200;" maxlength="120" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_City">Suburb/City:</label>
		<input id="ugr_City" style="width:200;" maxlength="63" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_State">State:</label>
		<input id="ugr_State" style="width:200;" maxlength="40" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Postcode">Post/zipcode:</label>
		<input id="ugr_Postcode" style="width:200;" maxlength="20" />
	</div>
	<div class="dtyField">
		<label class="dtyLabel" style="vertical-align:top" for="ugr_Description">Description:</label>
		<textarea cols="200" id="ugr_Description" rows="2" style="width:420;"></textarea>
	</div>
	<div class="dtyField">
		<label class="dtyLabel" style="vertical-align:top" for="ugr_URLs">URLs:</label>
		<textarea cols="200" id="ugr_URLs" rows="2" style="width:420;"></textarea>
	</div>


	<div class="dtyField">
		<label class="dtyLabel" for="ugr_Enabled">Enabled:</label>
		<input id="ugr_Enabled" type="checkbox"/>
		<div class="help prompt help1">
			<label>Whether this user is enabled</label>
		</div>
	</div>

</div>
<br/>
<div id="btn_edits" class="actionButtons">
<input type="button" style="height: 25px; width: 99px" value="Save" onclick="window.userEditor.save();" />
<input type="button" style="height: 25px; width: 99px" value="Cancel" onclick="window.userEditor.cancel();" />
</div>
<div id="btn_view" class="actionButtons" style="display:none;padding-right: 240px">
<input type="button" style="height: 25px; width: 99px" value="Close" onclick="window.close(null);" />
</div>
</div>

<script type="text/javascript">

	var userEditor;

	//
	//  starts initialization on load completion of this window
	//
	function loadHandler(){
		window.userEditor = new UserEditor();
	}
	YAHOO.util.Event.addListener(window, "load", loadHandler );
	//function(){userEditor = new GroupEditor();} );
	//to implment window.onbeforeunload = onbeforeunload;

</script>


</body>
</html>
