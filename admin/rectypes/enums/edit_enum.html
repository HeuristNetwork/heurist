<html>
	<head>
		<style type="text/css">
			<!--
			body {
				margin: 0px;
				padding: 0px;
				border: 0px;
				overflow: hidden;
			}

			* {
				font-size: 10px;
				font-family: sans-serif;
			}
			form { margin-bottom: 1px;}
			#maindiv {
				position: absolute;
				width: 530px; height: 97%;
				z-index: 101;
				background-color: white;
				-moz-border-radius: 12px;
				border: 2px solid black;
				padding: 5px;
			}
			#maindiv_shadow {
				position: absolute;
				left: 5px;
				top: 5px;
				width: 530px;
				height: 97%;
				z-index: 100;
				background-color: black;
				-moz-border-radius: 12px;
				border: 2px solid black;
				-moz-opacity: 0.5;
				padding: 5px;
			}
			.enum-list-div {
				height: 90%;
				overflow: auto;
				margin: 5px;
				border: 1px dotted lightgray;
				background-color: #FFFFDD;
			}
			.col1 {width: 100px; }
			.col2 {width: 50px; }
			.col3 {width: 90px; }
			.col4 {width: 150px; }
			.row-button-elem {
				height: 17px;
			font-size: 9px;}
			.row-elem {
				height : 15px;
				vertical-align: middle;
			}

			.delete_icon { cursor: pointer; vertical-align: middle; }
			-->
		</style>

		<script type="text/javascript">
			<!--
			function delete_bdl(rdl_id) {
				var delete_bdl_elt = document.getElementById('delete_bdl');
				delete_bdl_elt.value = rdl_id;
				delete_bdl_elt.form.submit();
			}

			//-->
		</script>
	</head>
	<body onload="nve = document.getElementById('new_value_elt'); if (nve) nve.focus(); var nov = document.getElementById('new_ont_elt'); if (nov) nov.selectedIndex = 1;">

		<div id="maindiv">
			[select BIB_DETAIL_TYPE bdt /* edit_enum.php is callled with a rdt_id so select that record for the contents below*/]
			<span style="float: right; cursor: pointer;" onclick="window.parent.finish_edit_enum_types();">&#91;close&#93;</span>
			<div style="font-weight: bold;">
				<span style="margin: 0px 0px 0px 25px;">Values for </span>
				<span style="margin: 0px 20px 0px 10px;">&nbsp;&lt;<span style="max-width: 30px; overflow: hidden; ">[rdt_name]</span>&gt;</span>
				<span style="margin: 0px 10px;">in Ontology</span>
				<span style="margin: 0px 20px;">Description</span>
			</div>
			<div class="enum-list-div">
				[search BIB_DETAIL_LOOKUP bdl /* search the detail lookups (enums) which is filtered by the active detail lookups table*/]
				[auto : rdl_rdt_id : rdt_id  /* restrict the results to only the rows that match the passed in detail type*/]
				[foreach BIB_DETAIL_LOOKUP bd : 1 order by rdl_ont_id, rdl_value  /* iterate through each result and output the following */]
				<form action="edit_enum.php" method="post">
					<input type="hidden" name="rdl_id" value="[rdl_id]">
					<div><img src="../img/cross.gif"  onclick="delete_bdl([rdl_id]);" class="delete_icon">
						<input type="text" name="rdl_value" value="[rdl_value]" class="col1 row-elem" style="width: 110px;">
						<input type="text" name="rdt1_id" value="[rdl_rdt_id]" class="col2 row-elem" disabled="disabled" >
						<input type="hidden" name="rdt_id" value="[rdl_rdt_id]">
						[dropdown required : rdl_ont_id : Ontology : select ont_id, ont_name from ontologies :class="col3 row-elem" : Select Ontology]
						<input type="text" name="rdl_description" value="[rdl_description]" class="col4 row-elem">
						<input type="submit" value="Update" class="button row-button-elem">
					</div>
				</form>
				[end-foreach]
				[not-found]<div style="font-style: italic;">No enums found, please used add below </div>[end-not-found]
				[end-search]
			</div>
			<div>
				<form action="edit_enum.php" method="post">
					<input type="hidden" name="rdt_id" value="[rdt_id]">
					<input type="hidden" name="delete_bdl_field" value="" id="delete_bdl">
					[insert MASTER_BIB_DETAIL_LOOKUP new_bdl]
					[auto : rdl_rdt_id : rdt_id]
					New value: [textbox REQUIRED: rdl_value : new enumeration value : style="width: 110px;" id="new_value_elt"]
					Ontology: [dropdown REQUIRED: rdl_ont_id : ontology for new enumeration : select ont_id, ont_name from ontologies :style="width: 60px;" id="new_ont_elt": Select Ontology... ]
					Description: [textbox : rdl_description : description : style="width: 110px;" id="new_desc_elt"]
					<input type="submit" value="Add" style="font-weight: bold;">
					[end-insert]
				</form>
			</div>
			[end-select]
		</div>
		<div id="maindiv_shadow"></div>

	</body>
</html>
